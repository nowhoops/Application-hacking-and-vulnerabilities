# H2 Break & Unbreak 
Now we hack! And code!


Remember systematic working methods and report as you go. Also reflect: Where could this vulnerability be common? How could this mistake be avoided? What did I learn from this?

    x) Read/watch/listen and summarize. (In this x-subsection, you don't need to do tests on a computer; just reading or listening and a summary is enough. A few bullet points are sufficient for the summary.)
        OWASP: OWASP Top 10: A01 Broken Access Control'
 
### A01: Broken Access Control
- Access granted beyond intended roles/users (violates least privilege)
- Privilege escalation

**Prevention**
- Disable directory listing and remove exposed files (e.g. `.git`, backups)
- Apply rate limiting to APIs and controllers

---

### A02: Cryptographic Failures
- Weak, missing, or outdated cryptography
- Poor protection of data at rest or in transit

**Prevention**
- Classify sensitive data
- Do not store sensitive data unnecessarily
- Encrypt sensitive data at rest and in transit
- Avoid legacy algorithms and protocols

---

### A03: Injection
- Unvalidated user input executed by interpreters
- Dynamic or non-parameterized queries

**Prevention**
- Use parameterized queries or safe APIs (ORMs)
- Validate input server-side
- Never allow user input in SQL structure elements

---

### A04: Insecure Design
- Missing or ineffective security controls
- Design flaws cannot be fixed by implementation alone

**Prevention**
- Apply secure design principles
- Use threat modeling and secure development practices

---

### A05: Security Misconfiguration
- Improper hardening or permissions
- Default credentials enabled
- Excessive error details exposed

**Prevention**
- Remove unnecessary features and defaults
- Secure configurations across the stack
- Use proper error handling

---

### A06: Vulnerable and Outdated Components
- Using unsupported, outdated, or vulnerable software
- Unknown component versions

**Prevention**
- Remove unused components
- Track and inventory all dependencies
- Regularly scan and update components

### A07: Identification and Authentication Failures
- Weak or missing authentication mechanisms
- Poor session management
- Credential stuffing and brute-force attacks

**Prevention**
- Use multi-factor authentication (MFA)
- Enforce strong password policies
- Protect against brute-force attacks (rate limiting, lockout)
- Use secure session management and tokens

---

### A08: Software and Data Integrity Failures
- Untrusted software updates, plugins, or libraries
- Insecure CI/CD pipelines
- Unsigned or unverified data

**Prevention**
- Use signed and verified updates
- Secure CI/CD pipelines
- Validate integrity of software and data

---

### A09: Security Logging and Monitoring Failures
- Insufficient logging of security events
- Delayed or missing incident response

**Prevention**
- Log authentication, access control, and input validation failures
- Monitor logs and alert on suspicious activity
- Establish incident response and recovery plans

---

### A10: Server-Side Request Forgery (SSRF)
- Server makes requests to unintended internal or external resources
- Attackers exploit URL fetch functionality

**Prevention**
- Validate and sanitize all user-supplied URLs
- Restrict outbound network access
- Use allowlists for remote resources
- Disable unused URL fetching features
- Server fetches remote resources without validation

r
        
    
        Karvinen 2023: Find Hidden Web Directories - Fuzz URLs with ffuf
        PortSwigger: Access control vulnerabilities and privilege escalation
        Karvinen 2006: Report Writing (in Finnish)
        Optional: PortSwigger 2020: What is SQL injection? - Web Security Academy (about 10 min video)
                - web sec vulnerability allows atacker to view data that they are not ment to see.
        - Can modify or delete data 
        - there is lots of blind vulnerabilitys harder but dangerous
        - usually ocurs inthe were clause of query but can ocure in any location like update, insert, select and order by clause
        - syntax for different platforms can diffe
        -
    a) Break into 010-staff-only. See Karvinen 2024: Hack'n Fix
    b) Fix the 010-staff-only vulnerability from source code. Demonstrate with a test that your solution works.
    c) Solve dirfuzt-1 from the article Karvinen 2023: Find Hidden Web Directories - Fuzz URLs with ffuf. This helps in solving 020-your-eyes-only.
    d) Break into 020-your-eyes-only. See Karvinen 2024: Hack'n Fix
    e) Fix the 020-your-eyes-only vulnerability. Demonstrate with a test that your solution works.
    g) Optional. Introductory exercise that helps solve 010-staff-only. Solve Portswigger Academy's "Lab: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data".
    h) Optional. Introductory exercise that helps solve 010-staff-only. Solve Portswigger Academy's "Lab: SQL injection vulnerability allowing login bypass"

Tips****
